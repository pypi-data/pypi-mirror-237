"use strict";(globalThis["webpackChunkphotobooth_app_frontend"]=globalThis["webpackChunkphotobooth_app_frontend"]||[]).push([[504],{71504:(e,l,o)=>{o.r(l),o.d(l,{default:()=>C});var a=o(59835),r=o(86970);const t={class:"q-pa-md"},i=["onClick"],n={class:"q-mt-md"};function s(e,l,o,s,d,c){const u=(0,a.up)("q-breadcrumbs-el"),p=(0,a.up)("q-breadcrumbs"),m=(0,a.up)("q-icon"),f=(0,a.up)("q-td"),b=(0,a.up)("q-btn"),g=(0,a.up)("q-input"),w=(0,a.up)("q-table"),h=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(h,{padding:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" !Work In Progress! "),(0,a._)("div",t,[(0,a.Wm)(p,{gutter:"sm",style:{cursor:"pointer"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"Working Directory",icon:"home",onClick:l[0]||(l[0]=e=>{s.onBreadcrumbClick()})}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.breadcrumbs,((e,l)=>((0,a.wg)(),(0,a.j4)(u,{key:l},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e),1)])),_:2},1024)))),128))])),_:1}),(0,a.Wm)(w,{flat:"",bordered:"",title:"File Browser",pagination:s.pagination,rows:s.folder_rows,filter:s.filter,columns:s.folder_columns,color:"primary","row-key":"filepath",dense:"",loading:s.folder_loading,selection:"multiple",selected:s.selected,"onUpdate:selected":l[2]||(l[2]=e=>s.selected=e),"virtual-scroll":"",style:{height:"500px"},"rows-per-page-options":[0]},{"body-cell-type":(0,a.w5)((e=>[(0,a.Wm)(f,{props:e},{default:(0,a.w5)((()=>[e.value?((0,a.wg)(),(0,a.j4)(m,{key:0,name:"folder"})):((0,a.wg)(),(0,a.j4)(m,{key:1,name:"description"}))])),_:2},1032,["props"])])),"body-cell-name":(0,a.w5)((e=>[(0,a.Wm)(f,{props:e,style:{cursor:"pointer"}},{default:(0,a.w5)((()=>[(0,a._)("div",{onClick:l=>s.onNameClick(e.row)},(0,r.zw)(e.value),9,i)])),_:2},1032,["props"])])),"top-left":(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(b,{color:"primary",disable:s.folder_loading,label:"New Folder"},null,8,["disable"]),(0,a.Wm)(b,{class:"q-ml-sm",color:"primary",disable:s.folder_loading,label:"Upload file"},null,8,["disable"]),(0,a.Wm)(b,{class:"q-ml-sm",disable:0==s.selected.length,label:"download zip"},null,8,["disable"]),(0,a.Wm)(b,{class:"q-ml-sm",disable:0==s.selected.length,label:"delete files"},null,8,["disable"])])])),"top-right":(0,a.w5)((()=>[(0,a.Wm)(g,{borderless:"",dense:"",debounce:"300",modelValue:s.filter,"onUpdate:modelValue":l[1]||(l[1]=e=>s.filter=e),placeholder:"Search"},{append:(0,a.w5)((()=>[(0,a.Wm)(m,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["pagination","rows","filter","columns","loading","selected"])]),(0,a._)("div",n," Selected: "+(0,r.zw)(JSON.stringify(s.selected)),1)])),_:1})}var d=o(60499),c=o(91569),u=o(33752);function p(e,l=2){if(!+e)return"0 Bytes";const o=1024,a=l<0?0:l,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],t=Math.floor(Math.log(e)/Math.log(o));return`${parseFloat((e/Math.pow(o,t)).toFixed(a))} ${r[t]}`}const m={watch:{folder(e,l){this.getFolderContent(e)}},setup(){const e=(0,d.iH)(""),l=(0,d.iH)(!1),o=(0,d.iH)([]),r=[{label:"Type",name:"type",required:!0,align:"left",field:"is_dir",style:"width: 25px"},{label:"Name",name:"name",required:!0,align:"left",field:"name"},{label:"Size",name:"size",required:!0,align:"left",field:"size",format:e=>p(e,0)}],t=(0,d.iH)([]),i=(0,d.iH)(""),n=(0,d.iH)({rowsPerPage:0}),s=(0,a.Fl)((()=>{let l=e.value.split("/");return l})),m=l=>{l.is_dir?e.value=l.filepath:(0,u.Z)(`/admin/files/file/${l.filepath}`)},f=l=>{console.log(l),e.value=""},b=(e="")=>{l.value=!0,t.value=[],c.api.get(`/admin/files/list/${e}`).then((async e=>{o.value=e.data})).catch((e=>{console.log(e),console.log("request error! check logs")})).finally((()=>{l.value=!1}))};return(0,a.bv)((()=>{b()})),{folder:e,folder_columns:r,folder_rows:o,folder_loading:l,pagination:n,selected:t,filter:i,onNameClick:m,onBreadcrumbClick:f,getFolderContent:b,breadcrumbs:s}}};var f=o(11639),b=o(69885),g=o(72605),w=o(28052),h=o(68447),_=o(67220),y=o(22857),k=o(68879),v=o(66611),q=o(69984),B=o.n(q);const W=(0,f.Z)(m,[["render",s]]),C=W;B()(m,"components",{QPage:b.Z,QBreadcrumbs:g.Z,QBreadcrumbsEl:w.Z,QTable:h.Z,QTd:_.Z,QIcon:y.Z,QBtn:k.Z,QInput:v.Z})}}]);