from hak.number.duration_ms.to_bar_width import f as get_w
w_max = 23

# hak.duration_bar
def f(duration_ms):
  w = get_w(duration_ms)
  return (w*'█' + (w_max-w)*' ', w)

t = lambda: all([
  f(     -1) == ('                       ',  0),
  f(      0) == ('                       ',  0),
  f(      1) == ('                       ',  0),
  f(      2) == ('█                      ',  1),
  f(      4) == ('██                     ',  2),
  f(      8) == ('███                    ',  3),
  f(     16) == ('████                   ',  4),
  f(     32) == ('█████                  ',  5),
  f(     64) == ('██████                 ',  6),
  f(    128) == ('███████                ',  7),
  f(    256) == ('████████               ',  8),
  f(    512) == ('█████████              ',  9),
  f(   1024) == ('██████████             ', 10),
  f(   2048) == ('███████████            ', 11),
  f(   4096) == ('████████████           ', 12),
  f(   8192) == ('█████████████          ', 13),
  f(  16384) == ('██████████████         ', 14),
  f(  32768) == ('███████████████        ', 15),
  f(  65536) == ('████████████████       ', 16),
  f( 131072) == ('█████████████████      ', 17),
  f( 262144) == ('██████████████████     ', 18),
  f( 524288) == ('███████████████████    ', 19),
  f(1048576) == ('████████████████████   ', 20),
  f(2097152) == ('█████████████████████  ', 21),
  f(4194304) == ('██████████████████████ ', 22),
  f(8388608) == ('███████████████████████', 23),
  f(9000000) == ('███████████████████████', 23),
])
