(window.webpackJsonp=window.webpackJsonp||[]).push([[223,226],{1006:function(e,t,n){"use strict";n.r(t),n.d(t,"useDatasetViewModel",(function(){return u}));n(18);var a=n(176),r=n(48),i=n(286),u=function useDatasetViewModel(){var e=Object(a.d)(!1),t=Object(a.h)().value.params.id;return{datasetId:t,isLoadingDataset:e,handleError:function handleError(e){var n="";switch(e){case i.a.ERROR_FETCHING_DATASET_INFO:n="Can't get dataset info for dataset_id: ".concat(t);break;case i.a.ERROR_FETCHING_WORKSPACE_INFO:n="Can't get workspace info for dataset_id: ".concat(t);break;default:n="There was an error on fetching dataset info and workspace info. Please try again"}var a={message:n,numberOfChars:n.length,type:"error"};r.a.dispatch("notify",a)},createRootBreadCrumbs:function createRootBreadCrumbs(e){return[{link:{name:"datasets"},name:"Home"},{link:{path:"/datasets?workspaces=".concat(e.workspace)},name:e.workspace},{link:{path:"annotation-mode"},name:e.name}]}}}},1442:function(e,t,n){"use strict";n.r(t),n.d(t,"useAnnotationModeViewModel",(function(){return l}));n(14),n(6),n(46),n(68);var a=n(176),r=n(40),i=n(1006),u=n(300),s=n(296),o=n(2),c=n(3),d=(n(233),function(){function RecordCriteria(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];Object(o.a)(this,RecordCriteria),this.datasetId=e,this.searchText=a,this.metadata=r,this.sortBy=i,this.page=t?Number(t):1,this.status=n||"pending",this.searchText=null!=a?a:"",this.commit()}return Object(c.a)(RecordCriteria,[{key:"isFilteringByText",get:function get(){return this.committed.searchText.length>0}},{key:"isFilteringByMetadata",get:function get(){return this.committed.metadata.length>0}},{key:"hasChanges",get:function get(){return this.committed.page!==this.page||(this.committed.status!==this.status||(this.committed.searchText!==this.searchText||(!this.areEquals(this.metadata,this.committed.metadata)||!this.areEquals(this.sortBy,this.committed.sortBy))))}},{key:"commit",value:function commit(){this.committed={page:this.page,status:this.status,searchText:this.searchText,metadata:this.metadata,sortBy:this.sortBy}}},{key:"reset",value:function reset(){this.page=this.committed.page,this.status=this.committed.status,this.searchText=this.committed.searchText,this.metadata=this.committed.metadata,this.sortBy=this.committed.sortBy}},{key:"nextPage",value:function nextPage(){this.page=this.committed.page+1}},{key:"previousPage",value:function previousPage(){this.page=this.committed.page-1}},{key:"areEquals",value:function areEquals(e,t){return e.join("")===t.join("")}}]),RecordCriteria}()),f=n(784),__awaiter=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function fulfilled(e){try{step(a.next(e))}catch(e){i(e)}}function rejected(e){try{step(a.throw(e))}catch(e){i(e)}}function step(e){e.done?r(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())}))},l=function useAnnotationModeViewModel(){var e,t,n=Object(a.i)(),o=Object(f.d)(),c=Object(s.a)().state,l=Object(r.useResolve)(u.a),h=Object(i.useDatasetViewModel)(),m=h.datasetId,p=h.isLoadingDataset,v=h.handleError,g=h.createRootBreadCrumbs,y=Object(a.a)((function(){return g(c)})),k=Object(a.d)(new d(m,o.getQueryParams("_page"),o.getQueryParams("_status"),o.getQueryParams("_search"),null===(e=o.getQueryParams("_metadata"))||void 0===e?void 0:e.split("+"),null===(t=o.getQueryParams("_sort"))||void 0===t?void 0:t.split(",")));return Object(a.c)((function(){!function loadDataset(){__awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p.value=!0,e.next=4,l.execute(m);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),v(e.t0.response),n.push("/");case 10:return e.prev=10,p.value=!1,e.finish(10);case 13:case"end":return e.stop()}}),_callee2,null,[[0,6,10,13]])})))}()})),{isLoadingDataset:p,recordCriteria:k,dataset:c,datasetId:m,breadcrumbs:y,updateQueryParams:function updateQueryParams(){return __awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setQueryParams({key:"_page",value:k.value.committed.page.toString()},{key:"_status",value:k.value.committed.status},{key:"_search",value:k.value.committed.searchText},{key:"_metadata",value:k.value.committed.metadata.join("+")},{key:"_sort",value:k.value.committed.sortBy.join(",")});case 2:case"end":return e.stop()}}),_callee)})))}}}},743:function(e,t,n){"use strict";var a=n(0);n.d(t,"a",(function(){return a.computed})),n.d(t,"b",(function(){return a.onBeforeMount})),n.d(t,"c",(function(){return a.onMounted})),n.d(t,"d",(function(){return a.onUnmounted})),n.d(t,"e",(function(){return a.ref}));a.default,a.default.util.warn},746:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),r=n(3),i=(n(6),n(104),function(){function Debounce(e){Object(a.a)(this,Debounce),this.milliSeconds=e}return Object(r.a)(Debounce,[{key:"wait",value:function wait(){var e=this;return this.stop(),new Promise((function(t){e.timer=setTimeout((function(){t(),e.timer=null}),e.milliSeconds)}))}},{key:"stop",value:function stop(){this.timer&&clearTimeout(this.timer)}}]),Debounce}()),u=function useDebounce(e){return new i(e)}},751:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function useBeforeUnload(){return{confirm:function confirm(){window.onbeforeunload=function(){return!0}},destroy:function destroy(){window.onbeforeunload=void 0}}}},752:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(3),i=(n(14),n(6),function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function fulfilled(e){try{step(a.next(e))}catch(e){i(e)}}function rejected(e){try{step(a.throw(e))}catch(e){i(e)}}function step(e){e.done?r(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())}))}),u=function(){function Routine(e){Object(a.a)(this,Routine),this.executable=e}return Object(r.a)(Routine,[{key:"execute",value:function execute(){return this.executable()}}]),Routine}(),s=function(){function Queue(){Object(a.a)(this,Queue),this.queue=[]}return Object(r.a)(Queue,[{key:"enqueue",value:function enqueue(e){return i(this,void 0,void 0,regeneratorRuntime.mark((function _callee(){var t;return regeneratorRuntime.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return t=new u(e),this.queue.push(t),n.next=4,this.tryExecution();case 4:case"end":return n.stop()}}),_callee,this)})))}},{key:"tryExecution",value:function tryExecution(){return i(this,void 0,void 0,regeneratorRuntime.mark((function _callee2(){var e;return regeneratorRuntime.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.size>1)){t.next=2;break}return t.abrupt("return");case 2:if(this.isEmpty){t.next=9;break}return e=this.peek(),t.next=6,e.execute();case 6:this.dequeue(),t.next=2;break;case 9:case"end":return t.stop()}}),_callee2,this)})))}},{key:"peek",value:function peek(){return this.queue[0]}},{key:"isEmpty",get:function get(){return 0===this.size}},{key:"size",get:function get(){return this.queue.length}},{key:"dequeue",value:function dequeue(){this.queue.shift()}}]),Queue}(),o=function useQueue(){return new s}},784:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return f}));n(751),n(746),n(44);var a=localStorage.getItem("argilla-dev"),r=function useFeatureToggle(){return{getValue:function getValue(e,t){if(!a)return null;var n=JSON.parse(a);return"integer"===t?parseInt(n[e]):n[e]}}},i=(n(282),n(752),n(176)),u=n(743),s=function useRole(){var e=Object(i.f)().$auth;return{isAdminOrOwnerRole:Object(u.a)((function(){var t=e.user.role;return"admin"===t||"owner"===t}))}},o=n(20),c=(n(14),n(6),n(75),n(18),n(35),n(22),function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function fulfilled(e){try{step(a.next(e))}catch(e){i(e)}}function rejected(e){try{step(a.throw(e))}catch(e){i(e)}}function step(e){e.done?r(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())}))}),d={datasets:"datasets"},f=function useRoutes(){var e=Object(i.i)(),t=Object(i.h)(),n=function isOldTask(e){return["TokenClassification","TextClassification","Text2Text"].includes(e)};return{goToDatasetsList:function goToDatasetsList(){e.push({path:"/".concat(d.datasets)})},goToSetting:function goToSetting(t){var a=t.task,r=t.workspace,i=t.name,u=t.id;n(a)?e.push({name:"datasets-workspace-dataset-settings",params:{workspace:r,dataset:i}}):e.push({name:"dataset-id-settings",params:{id:u}})},getDatasetLink:function getDatasetLink(e){var t=e.task,a=e.name,r=e.workspace,i=e.id;return n(t)?"/datasets/".concat(r,"/").concat(a):"/dataset/".concat(i,"/annotation-mode")},setQueryParams:function setQueryParams(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return c(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee(){var n;return regeneratorRuntime.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return n={},a.forEach((function(e){var t=e.key,a=e.value;a&&(n=Object.assign(Object.assign({},n),Object(o.a)({},t,a)))})),r.next=4,e.push({path:t.value.path,query:Object.assign({},n)});case 4:case"end":return r.stop()}}),_callee)})))},getQueryParams:function getQueryParams(e){return t.value.query[e]}}}}}]);