$schema: https://json-schema.org/draft/2020-12/schema
title: meta_dev_issues
description: GitHub issues settings for the project

type: object
additionalProperties: false
properties:
  repo:
    type: object
    default: {}
    additionalProperties: false
    properties:
      config:
        description: Configuration for the repository
        type: object
        default: {}
        properties:
          description:
            description: Description of the repository
            type: string
            default: "${{ tagline }}"
          homepage:
            description: URL for the project homepage
            type: string
            format: uri
            default: "${{ url.website.base }}"
          topics:
            description: List of topics for the repository
            default: "${{ keyword_slugs }}"
            oneOf:
              - type: string
              - type: array
                uniqueItems: true
                items:
                  type: string
                  maxLength: 50
                  pattern: ^[a-z0-9][a-z0-9\-]*$
          security_and_analysis:
            description: Security and analysis settings for the repository
            type: object
            default: {}
            properties:
              secret_scanning:
                description: Secret scanning settings for the repository
                type: object
                default: {}
                properties:
                  status:
                    description: Status of secret scanning for the repository
                    enum: [ enabled, disabled ]
                    default: enabled
              secret_scanning_push_protection:
                description: Secret scanning push protection settings for the repository
                type: object
                default: {}
                properties:
                  status:
                    description: Status of secret scanning push protection for the repository
                    enum: [ enabled, disabled ]
                    default: enabled
          has_projects:
            type: boolean
            default: false
          has_wiki:
            type: boolean
            default: false
          allow_merge_commit:
            type: boolean
            default: true
          allow_rebase_merge:
            type: boolean
            default: true
          allow_auto_merge:
            type: boolean
            default: false
          delete_branch_on_merge:
            type: boolean
            default: true
          allow_update_branch:
            type: boolean
            default: true
          merge_commit_title:
            enum: [ PR_TITLE, MERGE_MESSAGE ]
            default: PR_TITLE
          merge_commit_message:
            enum: [ PR_TITLE, PR_BODY, BLANK ]
            default: PR_BODY
          archived:
            type: boolean
            default: false

      target:
        description: Target repository for development
        default: source
        enum: [ source, parent, self ]

      gitignore:
        description: List of files and directories to ignore in the repository
        type: array
        default: []
        uniqueItems: true
        items:
          type: string

      gitattributes:
        description: List of files and directories to treat as text or binary
        type: array
        default: []
        uniqueItems: true
        items:
          type: object
          minProperties: 1
          maxProperties: 1
          additionalProperties:
            type: array
            minItems: 1
            items:
              type: string

    required: [ target ]
