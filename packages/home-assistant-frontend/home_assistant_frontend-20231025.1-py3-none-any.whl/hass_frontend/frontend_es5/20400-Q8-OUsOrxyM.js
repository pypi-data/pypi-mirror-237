"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[20400],{32511:function(t,e,i){var n,a=i(88962),r=i(33368),d=i(71650),o=i(82390),s=i(69205),c=i(70906),l=i(91808),u=i(58417),h=i(39274),f=i(68144),p=i(79932);(0,l.Z)([(0,p.Mo)("ha-checkbox")],(function(t,e){var i=function(e){(0,s.Z)(n,e);var i=(0,c.Z)(n);function n(){var e;(0,d.Z)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return e=i.call.apply(i,[this].concat(r)),t((0,o.Z)(e)),e}return(0,r.Z)(n)}(e);return{F:i,d:[{kind:"field",static:!0,key:"styles",value:function(){return[h.W,(0,f.iv)(n||(n=(0,a.Z)([":host{--mdc-theme-secondary:var(--primary-color)}"])))]}}]}}),u.A)},73366:function(t,e,i){i.d(e,{M:function(){return _}});var n,a=i(88962),r=i(33368),d=i(71650),o=i(82390),s=i(69205),c=i(70906),l=i(91808),u=i(34541),h=i(47838),f=i(61092),p=i(96762),m=i(68144),v=i(79932),_=(0,l.Z)([(0,v.Mo)("ha-list-item")],(function(t,e){var i=function(e){(0,s.Z)(n,e);var i=(0,c.Z)(n);function n(){var e;(0,d.Z)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return e=i.call.apply(i,[this].concat(r)),t((0,o.Z)(e)),e}return(0,r.Z)(n)}(e);return{F:i,d:[{kind:"method",key:"renderRipple",value:function(){return this.noninteractive?"":(0,u.Z)((0,h.Z)(i.prototype),"renderRipple",this).call(this)}},{kind:"get",static:!0,key:"styles",value:function(){return[p.W,(0,m.iv)(n||(n=(0,a.Z)([":host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}"])))]}}]}}),f.K)},86630:function(t,e,i){var n,a,r,d,o=i(99312),s=i(81043),c=i(88962),l=i(33368),u=i(71650),h=i(82390),f=i(69205),p=i(70906),m=i(91808),v=i(34541),_=i(47838),g=i(49412),k=i(3762),y=i(68144),x=i(79932),b=i(38346),Z=i(96151);i(10983),(0,m.Z)([(0,x.Mo)("ha-select")],(function(t,e){var i=function(e){(0,f.Z)(n,e);var i=(0,p.Z)(n);function n(){var e;(0,u.Z)(this,n);for(var a=arguments.length,r=new Array(a),d=0;d<a;d++)r[d]=arguments[d];return e=i.call.apply(i,[this].concat(r)),t((0,h.Z)(e)),e}return(0,l.Z)(n)}(e);return{F:i,d:[{kind:"field",decorators:[(0,x.Cb)({type:Boolean})],key:"icon",value:void 0},{kind:"field",decorators:[(0,x.Cb)({type:Boolean,reflect:!0})],key:"clearable",value:void 0},{kind:"method",key:"render",value:function(){return(0,y.dy)(n||(n=(0,c.Z)([" "," "," "])),(0,v.Z)((0,_.Z)(i.prototype),"render",this).call(this),this.clearable&&!this.required&&!this.disabled&&this.value?(0,y.dy)(a||(a=(0,c.Z)(['<ha-icon-button label="clear" @click="','" .path="','"></ha-icon-button>'])),this._clearValue,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):y.Ld)}},{kind:"method",key:"renderLeadingIcon",value:function(){return this.icon?(0,y.dy)(r||(r=(0,c.Z)(['<span class="mdc-select__icon"><slot name="icon"></slot></span>']))):y.Ld}},{kind:"method",key:"connectedCallback",value:function(){(0,v.Z)((0,_.Z)(i.prototype),"connectedCallback",this).call(this),window.addEventListener("translations-updated",this._translationsUpdated)}},{kind:"method",key:"disconnectedCallback",value:function(){(0,v.Z)((0,_.Z)(i.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("translations-updated",this._translationsUpdated)}},{kind:"method",key:"_clearValue",value:function(){!this.disabled&&this.value&&(this.valueSetDirectly=!0,this.select(-1),this.mdcFoundation.handleChange())}},{kind:"field",key:"_translationsUpdated",value:function(){var t=this;return(0,b.D)((0,s.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.y)();case 2:t.layoutOptions();case 3:case"end":return e.stop()}}),e)}))),500)}},{kind:"field",static:!0,key:"styles",value:function(){return[k.W,(0,y.iv)(d||(d=(0,c.Z)([":host([clearable]){position:relative}.mdc-select:not(.mdc-select--disabled) .mdc-select__icon{color:var(--secondary-text-color)}.mdc-select__anchor{width:var(--ha-select-min-width,200px)}.mdc-select--filled .mdc-select__anchor{height:var(--ha-select-height,56px)}.mdc-select--filled .mdc-floating-label{inset-inline-start:12px;inset-inline-end:initial;direction:var(--direction)}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{inset-inline-start:48px;inset-inline-end:initial;direction:var(--direction)}.mdc-select .mdc-select__anchor{padding-inline-start:12px;padding-inline-end:0px;direction:var(--direction)}.mdc-select__anchor .mdc-floating-label--float-above{transform-origin:var(--float-start)}.mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,0px)}:host([clearable]) .mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,12px)}ha-icon-button{position:absolute;top:10px;right:28px;--mdc-icon-button-size:36px;--mdc-icon-size:20px;color:var(--secondary-text-color);inset-inline-start:initial;inset-inline-end:28px;direction:var(--direction)}"])))]}}]}}),g.K)},3555:function(t,e,i){var n,a,r,d,o=i(88962),s=i(33368),c=i(71650),l=i(82390),u=i(69205),h=i(70906),f=i(91808),p=i(34541),m=i(47838),v=i(42977),_=i(31338),g=i(68144),k=i(79932);(0,f.Z)([(0,k.Mo)("ha-textfield")],(function(t,e){var i=function(e){(0,u.Z)(n,e);var i=(0,h.Z)(n);function n(){var e;(0,c.Z)(this,n);for(var a=arguments.length,r=new Array(a),d=0;d<a;d++)r[d]=arguments[d];return e=i.call.apply(i,[this].concat(r)),t((0,l.Z)(e)),e}return(0,s.Z)(n)}(e);return{F:i,d:[{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"invalid",value:void 0},{kind:"field",decorators:[(0,k.Cb)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"icon",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"iconTrailing",value:void 0},{kind:"field",decorators:[(0,k.Cb)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,k.Cb)()],key:"autocorrect",value:void 0},{kind:"field",decorators:[(0,k.Cb)({attribute:"input-spellcheck"})],key:"inputSpellcheck",value:void 0},{kind:"field",decorators:[(0,k.IO)("input")],key:"formElement",value:void 0},{kind:"method",key:"updated",value:function(t){(0,p.Z)((0,m.Z)(i.prototype),"updated",this).call(this,t),(t.has("invalid")&&(this.invalid||void 0!==t.get("invalid"))||t.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||"Invalid":""),this.reportValidity()),t.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),t.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),t.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{kind:"method",key:"renderIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?"trailing":"leading";return(0,g.dy)(n||(n=(0,o.Z)([' <span class="mdc-text-field__icon mdc-text-field__icon--','" tabindex="','"> <slot name="','Icon"></slot> </span> '])),i,e?1:-1,i)}},{kind:"field",static:!0,key:"styles",value:function(){return[_.W,(0,g.iv)(a||(a=(0,o.Z)([".mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:var(--direction)}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){text-overflow:ellipsis;width:inherit;padding-right:30px;padding-inline-end:30px;padding-inline-start:initial;box-sizing:border-box;direction:var(--direction)}input{text-align:var(--text-field-text-align,start)}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start)}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}"]))),"rtl"===document.dir?(0,g.iv)(r||(r=(0,o.Z)([".mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__affix--suffix,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl}"]))):(0,g.iv)(d||(d=(0,o.Z)([""])))]}}]}}),v.P)},6252:function(t,e,i){i.d(e,{$G:function(){return f},$g:function(){return l},Ez:function(){return h},cA:function(){return u},fC:function(){return p},uo:function(){return v},wL:function(){return c},wz:function(){return m}});var n=i(99312),a=i(81043),r=i(58831),d=i(91741),o=i(56007),s=i(85415),c=function(t){return t.NeedsAction="needs_action",t.Completed="completed",t}({}),l=function(t){return t[t.CREATE_TODO_ITEM=1]="CREATE_TODO_ITEM",t[t.DELETE_TODO_ITEM=2]="DELETE_TODO_ITEM",t[t.UPDATE_TODO_ITEM=4]="UPDATE_TODO_ITEM",t[t.MOVE_TODO_ITEM=8]="MOVE_TODO_ITEM",t}({}),u=function(t){return Object.keys(t.states).filter((function(e){return"todo"===(0,r.M)(e)&&!(0,o.rk)(t.states[e].state)})).map((function(e){return Object.assign(Object.assign({},t.states[e]),{},{entity_id:e,name:(0,d.C)(t.states[e])})})).sort((function(e,i){return(0,s.$)(e.name,i.name,t.locale.language)}))},h=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e,i){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.callWS({type:"todo/item/list",entity_id:i});case 2:return a=t.sent,t.abrupt("return",a.items);case 4:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}(),f=function(t,e,i){return t.callService("todo","update_item",i,{entity_id:e})},p=function(t,e,i){return t.callService("todo","create_item",{summary:i},{entity_id:e})},m=function(t,e,i){return t.callService("todo","delete_item",{uid:i},{entity_id:e})},v=function(t,e,i,n){return t.callWS({type:"todo/item/move",entity_id:e,uid:i,pos:n})}},73826:function(t,e,i){i.d(e,{f:function(){return f}});var n=i(40039),a=i(33368),r=i(71650),d=i(82390),o=i(69205),s=i(70906),c=i(91808),l=i(34541),u=i(47838),h=i(79932),f=function(t){var e=(0,c.Z)(null,(function(t,e){var i=function(e){(0,o.Z)(n,e);var i=(0,s.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=i.call.apply(i,[this].concat(o)),t((0,d.Z)(e)),e}return(0,a.Z)(n)}(e);return{F:i,d:[{kind:"field",decorators:[(0,h.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,l.Z)((0,u.Z)(i.prototype),"connectedCallback",this).call(this),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,l.Z)((0,u.Z)(i.prototype),"disconnectedCallback",this).call(this),this.__unsubs){for(;this.__unsubs.length;){var t=this.__unsubs.pop();t instanceof Promise?t.then((function(t){return t()})):t()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(t){if((0,l.Z)((0,u.Z)(i.prototype),"updated",this).call(this,t),t.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var e,a=(0,n.Z)(t.keys());try{for(a.s();!(e=a.n()).done;){var r=e.value;if(this.hassSubscribeRequiredHostProps.includes(r))return void this.__checkSubscribed()}}catch(d){a.e(d)}finally{a.f()}}}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var t,e=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(t=this.hassSubscribeRequiredHostProps)&&void 0!==t&&t.some((function(t){return void 0===e[t]}))||(this.__unsubs=this.hassSubscribe())}}]}}),t);return e}},20400:function(t,e,i){i.r(e),i.d(e,{HuiTodoListCard:function(){return A}});var n,a,r,d,o,s,c,l,u,h,f,p,m=i(88962),v=i(99312),_=i(81043),g=i(33368),k=i(71650),y=i(82390),x=i(69205),b=i(70906),Z=i(91808),w=i(34541),I=i(47838),E=i(68144),C=i(79932),L=i(83448),M=i(18848),V=i(14516),H=i(62877),O=i(40095),T=(i(22098),i(32511),i(73366),i(86630),i(52039),i(3555),i(6252)),S=i(73826),D=i(15688),A=(0,Z.Z)([(0,C.Mo)("hui-todo-list-card")],(function(t,e){var Z,S,A,R,z,P,B=function(e){(0,x.Z)(n,e);var i=(0,b.Z)(n);function n(){var e;(0,k.Z)(this,n);for(var a=arguments.length,r=new Array(a),d=0;d<a;d++)r[d]=arguments[d];return e=i.call.apply(i,[this].concat(r)),t((0,y.Z)(e)),e}return(0,g.Z)(n)}(e);return{F:B,d:[{kind:"method",static:!0,key:"getConfigElement",value:(P=(0,_.Z)((0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([i.e(68331),i.e(61648)]).then(i.bind(i,52045));case 2:return t.abrupt("return",document.createElement("hui-todo-list-card-editor"));case 3:case"end":return t.stop()}}),t)}))),function(){return P.apply(this,arguments)})},{kind:"method",static:!0,key:"getStubConfig",value:function(t,e,i){return{type:"todo-list",entity:(0,D.j)(t,1,e,i,["todo"])[0]||""}}},{kind:"field",decorators:[(0,C.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_entityId",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_items",value:void 0},{kind:"field",decorators:[(0,C.SB)()],key:"_reordering",value:function(){return!1}},{kind:"field",key:"_sortable",value:void 0},{kind:"field",decorators:[(0,C.IO)("#unchecked")],key:"_uncheckedContainer",value:void 0},{kind:"method",key:"getCardSize",value:function(){return 3+(this._config&&this._config.title?2:0)}},{kind:"method",key:"setConfig",value:function(t){this.checkConfig(t),this._config=t,this._entityId=t.entity}},{kind:"method",key:"checkConfig",value:function(t){if(!t.entity||"todo"!==t.entity.split(".")[0])throw new Error("Specify an entity from within the todo domain")}},{kind:"method",key:"getEntityId",value:function(){}},{kind:"field",key:"_getCheckedItems",value:function(){return(0,V.Z)((function(t){return t?Object.values(t).filter((function(t){return t.status===T.wL.Completed})):[]}))}},{kind:"field",key:"_getUncheckedItems",value:function(){return(0,V.Z)((function(t){return t?Object.values(t).filter((function(t){return t.status===T.wL.NeedsAction})):[]}))}},{kind:"method",key:"willUpdate",value:function(t){this.hasUpdated?!t.has("_entityId")&&this._items||(this._items=void 0,this._fetchData()):(this._entityId||(this._entityId=this.getEntityId()),this._fetchData())}},{kind:"method",key:"hassSubscribe",value:function(){var t=this;return[this.hass.connection.subscribeEvents((function(){return t._fetchData()}),"shopping_list_updated")]}},{kind:"method",key:"updated",value:function(t){if((0,w.Z)((0,I.Z)(B.prototype),"updated",this).call(this,t),this._config&&this.hass){var e=t.get("hass"),i=t.get("_config");(t.has("hass")&&(null==e?void 0:e.themes)!==this.hass.themes||t.has("_config")&&(null==i?void 0:i.theme)!==this._config.theme)&&(0,H.R)(this,this.hass.themes,this._config.theme)}}},{kind:"method",key:"render",value:function(){var t=this;if(!this._config||!this.hass||!this._entityId)return E.Ld;var e=this._getCheckedItems(this._items),i=this._getUncheckedItems(this._items);return(0,E.dy)(n||(n=(0,m.Z)([' <ha-card .header="','" class="','"> <div class="addRow"> '," ",' </div> <div id="unchecked">',"</div> "," </ha-card> "])),this._config.title,(0,L.$)({"has-header":"title"in this._config}),this.todoListSupportsFeature(T.$g.CREATE_TODO_ITEM)?(0,E.dy)(a||(a=(0,m.Z)([' <ha-svg-icon class="addButton" .path="','" .title="','" @click="','"> </ha-svg-icon> <ha-textfield class="addBox" .placeholder="','" @keydown="','"></ha-textfield> '])),"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",this.hass.localize("ui.panel.lovelace.cards.todo-list.add_item"),this._addItem,this.hass.localize("ui.panel.lovelace.cards.todo-list.add_item"),this._addKeyPress):E.Ld,this.todoListSupportsFeature(T.$g.MOVE_TODO_ITEM)?(0,E.dy)(r||(r=(0,m.Z)([' <ha-svg-icon class="reorderButton" .path="','" .title="','" @click="','"> </ha-svg-icon> '])),"M18 21L14 17H17V7H14L18 3L22 7H19V17H22M2 19V17H12V19M2 13V11H9V13M2 7V5H6V7H2Z",this.hass.localize("ui.panel.lovelace.cards.todo-list.reorder_items"),this._toggleReorder):E.Ld,this._renderItems(i),e.length?(0,E.dy)(d||(d=(0,m.Z)([' <div class="divider"></div> <div class="checked"> <span> '," </span> "," </div> "," "])),this.hass.localize("ui.panel.lovelace.cards.todo-list.checked_items"),this.todoListSupportsFeature(T.$g.DELETE_TODO_ITEM)?(0,E.dy)(o||(o=(0,m.Z)(['<ha-svg-icon class="clearall" tabindex="0" .path="','" .title="','" @click="','"> </ha-svg-icon>'])),"M5,13H19V11H5M3,17H17V15H3M7,7V9H21V7",this.hass.localize("ui.panel.lovelace.cards.todo-list.clear_items"),this._clearCompletedItems):E.Ld,(0,M.r)(e,(function(t){return t.uid}),(function(e){return(0,E.dy)(s||(s=(0,m.Z)([' <div class="editRow"> ',' <ha-textfield class="item" .disabled="','" .value="','" .itemId="','" @change="','"></ha-textfield> </div> '])),t.todoListSupportsFeature(T.$g.UPDATE_TODO_ITEM)?(0,E.dy)(c||(c=(0,m.Z)([' <ha-checkbox tabindex="0" .checked="','" .itemId="','" @change="','"></ha-checkbox>'])),e.status===T.wL.Completed,e.uid,t._completeItem):E.Ld,!t.todoListSupportsFeature(T.$g.UPDATE_TODO_ITEM),e.summary,e.uid,t._saveEdit)}))):"")}},{kind:"method",key:"_renderItems",value:function(t){var e=this;return(0,E.dy)(l||(l=(0,m.Z)([" "," "])),(0,M.r)(t,(function(t){return t.uid}),(function(t){return(0,E.dy)(u||(u=(0,m.Z)([' <div class="editRow" item-id="','"> ',' <ha-textfield class="item" .disabled="','" .value="','" .itemId="','" @change="','"></ha-textfield> '," </div> "])),t.uid,e.todoListSupportsFeature(T.$g.UPDATE_TODO_ITEM)?(0,E.dy)(h||(h=(0,m.Z)([' <ha-checkbox tabindex="0" .checked="','" .itemId="','" @change="','"></ha-checkbox>'])),t.status===T.wL.Completed,t.uid,e._completeItem):E.Ld,!e.todoListSupportsFeature(T.$g.UPDATE_TODO_ITEM),t.summary,t.uid,e._saveEdit,e._reordering?(0,E.dy)(f||(f=(0,m.Z)([' <ha-svg-icon .title="','" class="reorderButton" .path="','"> </ha-svg-icon> '])),e.hass.localize("ui.panel.lovelace.cards.todo-list.drag_and_drop"),"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z"):"")})))}},{kind:"method",key:"todoListSupportsFeature",value:function(t){var e=this.hass.states[this._entityId];return e&&(0,O.e)(e,t)}},{kind:"method",key:"_fetchData",value:(z=(0,_.Z)((0,v.Z)().mark((function t(){var e,i;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hass&&this._entityId){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,T.Ez)(this.hass,this._entityId);case 4:e=t.sent,i={},e.forEach((function(t){i[t.uid]=t})),this._items=i;case 8:case"end":return t.stop()}}),t,this)}))),function(){return z.apply(this,arguments)})},{kind:"method",key:"_completeItem",value:function(t){var e=this,i=this._items[t.target.itemId];(0,T.$G)(this.hass,this._entityId,Object.assign(Object.assign({},i),{},{status:t.target.checked?T.wL.Completed:T.wL.NeedsAction})).finally((function(){return e._fetchData()}))}},{kind:"method",key:"_saveEdit",value:function(t){var e=this;if(t.target.value){var i=this._items[t.target.itemId];(0,T.$G)(this.hass,this._entityId,Object.assign(Object.assign({},i),{},{summary:t.target.value})).finally((function(){return e._fetchData()}))}else this.todoListSupportsFeature(T.$g.DELETE_TODO_ITEM)&&(0,T.wz)(this.hass,this._entityId,t.target.itemId).finally((function(){return e._fetchData()}));t.target.blur()}},{kind:"method",key:"_clearCompletedItems",value:(R=(0,_.Z)((0,v.Z)().mark((function t(){var e,i=this;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hass){t.next=2;break}return t.abrupt("return");case 2:return e=[],this._getCheckedItems(this._items).forEach((function(t){e.push((0,T.wz)(i.hass,i._entityId,t.uid))})),t.next=6,Promise.all(e).finally((function(){return i._fetchData()}));case 6:case"end":return t.stop()}}),t,this)}))),function(){return R.apply(this,arguments)})},{kind:"get",key:"_newItem",value:function(){return this.shadowRoot.querySelector(".addBox")}},{kind:"method",key:"_addItem",value:function(t){var e=this,i=this._newItem;i.value.length>0&&(0,T.fC)(this.hass,this._entityId,i.value).finally((function(){return e._fetchData()})),i.value="",t&&i.focus()}},{kind:"method",key:"_addKeyPress",value:function(t){"Enter"===t.key&&this._addItem(null)}},{kind:"method",key:"_toggleReorder",value:(A=(0,_.Z)((0,v.Z)().mark((function t(){var e;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._reordering=!this._reordering,t.next=3,this.updateComplete;case 3:this._reordering?this._createSortable():(null===(e=this._sortable)||void 0===e||e.destroy(),this._sortable=void 0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return A.apply(this,arguments)})},{kind:"method",key:"_createSortable",value:(S=(0,_.Z)((0,v.Z)().mark((function t(){var e,n=this;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([i.e(56087),i.e(32811)]).then(i.bind(i,32811));case 2:e=t.sent.default,this._sortable=new e(this._uncheckedContainer,{animation:150,fallbackClass:"sortable-fallback",dataIdAttr:"item-id",handle:"ha-svg-icon",onChoose:function(t){t.item.placeholder=document.createComment("sort-placeholder"),t.item.after(t.item.placeholder)},onEnd:function(t){t.item.placeholder&&(t.item.placeholder.replaceWith(t.item),delete t.item.placeholder),void 0!==t.newIndex&&void 0!==t.oldIndex&&t.oldIndex!==t.newIndex&&n._moveItem(t.oldIndex,t.newIndex)}});case 4:case"end":return t.stop()}}),t,this)}))),function(){return S.apply(this,arguments)})},{kind:"method",key:"_moveItem",value:(Z=(0,_.Z)((0,v.Z)().mark((function t(e,i){var n,a=this;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._getUncheckedItems(this._items)[e],t.next=3,(0,T.uo)(this.hass,this._entityId,n.uid,i).finally((function(){return a._fetchData()}));case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return Z.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return(0,E.iv)(p||(p=(0,m.Z)(["ha-card{padding:16px;height:100%;box-sizing:border-box}.has-header{padding-top:0}.addRow,.checked,.editRow{display:flex;flex-direction:row;align-items:center}.item{margin-top:8px}.addButton{padding-right:16px;padding-inline-end:16px;cursor:pointer;direction:var(--direction)}.reorderButton{padding-left:16px;padding-inline-start:16px;cursor:pointer;direction:var(--direction)}ha-checkbox{margin-left:-12px;margin-inline-start:-12px;direction:var(--direction)}ha-textfield{flex-grow:1}.checked{margin:12px 0;justify-content:space-between}.checked span{color:var(--primary-text-color);font-weight:500}.divider{height:1px;background-color:var(--divider-color);margin:10px 0}.clearall{cursor:pointer}.todoList{display:block;padding:8px}"])))}}]}}),(0,S.f)(E.oi))}}]);
//# sourceMappingURL=20400-Q8-OUsOrxyM.js.map