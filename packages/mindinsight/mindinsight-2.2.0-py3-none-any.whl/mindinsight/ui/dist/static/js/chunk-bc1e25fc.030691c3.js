(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc1e25fc"],{2008:function(t,e,n){"use strict";var o,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mi-contour-map"},[n("div",{ref:"contour",staticClass:"map-content"}),t.showAnimation?n("div",{staticClass:"map-animation"},[n("span",{staticClass:"animation-button",on:{click:t.playPathAnimation}},[n("span",{staticClass:"el-icon-video-play"}),t._v(" "+t._s(t.$t("lossAnalysis.playTrackAnimation"))+" ")])]):t._e(),t.showLegend?n("div",{staticClass:"map-legend",style:{"grid-template-rows":"repeat("+(t.legendColors.length+1)+", 1fr)"}},[t._l(t.legendColors,(function(e,o){return n("div",{key:e[1],staticClass:"legend-item"},[n("div",{class:["legend-color",t.isArea?"topographic-color":"contour-color"]},[n("div",{staticClass:"color",style:{backgroundColor:e[1]}})]),n("div",{staticClass:"text"},[t._v(t._s((o+1)%~~(t.legendColors.length/5)===0?e[0]:""))])])})),n("div",{staticClass:"legend-title"},[t._v(t._s(t.$t("lossAnalysis.lossValue")))])],2):t._e()])},i=[],a=n("bee2"),c=n("d4ec"),s=n("ade3"),u=n("2909"),h=n("3835"),l=(n("d81d"),n("99af"),n("d3b7"),n("159b"),n("ac1f"),n("1276"),n("5319"),n("b64b"),n("e9c4"),n("a15b"),n("caad"),n("e260"),n("4ec9"),n("3ca3"),n("ddb0"),n("6062"),n("4e82"),n("07ac"),n("fb6a"),n("a630"),n("b680"),n("dca8"),n("a434"),n("2532"),n("8ba4"),n("a9e3"),n("9129"),n("9944")),p=n("9fac"),f=n("2dd7");function d(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{name:St,zlevel:1,type:"custom",silent:!0,z:kt[St],renderItem:function(t,i){return{type:"group",children:e.map((function(t){return{type:"polyline",shape:{points:[i.coord([t[0],t[1]]),i.coord([t[2],t[3]])]},transition:r?["shape"]:[],style:{stroke:o,lineWidth:n}}}))}},clip:!0,data:[t]}}function m(t,e,n,o){return{type:"scatter",zlevel:1,name:Tt,symbol:"circle",symbolSize:n,markPoint:{data:t},itemStyle:{opacity:1,color:"#FF8C00"},animation:!1,z:kt[Tt],showSymbol:!0,data:e,tooltip:{formatter:function(t){var e=Object(h["a"])(t.data,4),n=e[0],r=e[1],i=e[2],a=e[3];return"\n          ".concat(o,": ").concat(a,"<br>\n          x: ").concat(n,"<br>\n          y: ").concat(r,"<br>\n          z: ").concat(i,"<br>\n        ")}}}}function v(t,e,n,o,r){var i=t.intervals,a=t.x,c=t.y,s=t.z,u=[],h=i.length-1,l=[],p=[];return i.forEach((function(t,e){0===e&&l.push({value:Ot,xAxis:a[e],yAxis:c[e]}),e===h&&l.push({value:zt,xAxis:a[e],yAxis:c[e]}),p.push([a[e],c[e],s[e],t]),e<h&&u.push([a[e],c[e],a[e+1],c[e+1]])})),[m(l,p,3*n,r),d(e,u,n,o)]}function b(t,e,n){return 0===e?"right":e===n?"left":0===t?"bottom":"top"}function g(t,e){var n=[],o=t.length-1;return t.forEach((function(t,e){n.push.apply(n,Object(u["a"])(t.map((function(t,n){return{name:"point,".concat(e,",").concat(n),value:[t.x,t.y,t.z],position:b(e,n,o)}}))))})),{name:Nt,type:"scatter",symbol:"rect",z:kt[Nt],symbolSize:function(t,n){if(!e)return 50;var r=e._model.option.grid[0],i=r.top,a=r.left,c=r.bottom,s=r.right,u=(e.getWidth()-+a-+s)/o,h=(e.getHeight()-+i-+c)/o;return[u,h]},data:n,itemStyle:{opacity:0},animation:!1,tooltip:{formatter:function(){return""}}}}function y(t,e){return{name:At,type:"scatter",symbol:"circle",symbolSize:10,z:kt[At],data:[t],itemStyle:{color:e},tooltip:{padding:[2,8],textStyle:{fontSize:8},formatter:function(t){var e=Object(h["a"])(t.data,2),n=e[0],o=e[1];return"\n        ".concat(wt,"<br>\n        x: ").concat(n,"<br>\n        y: ").concat(o,"<br>\n        ")}}}}function x(t){var e=[];return t.forEach((function(t){t.forEach((function(t){e.push([t.x,t.y,t.z])}))})),{name:"pointsTooltip",type:"scatter",z:kt[Nt],zlevel:1,data:e,symbol:"circle",symbolSize:0,silent:!0,tooltip:{padding:[2,8],textStyle:{fontSize:8},formatter:function(t){var e=Object(h["a"])(t.data,3),n=e[0],o=e[1],r=e[2];return"\n        x: ".concat(n,"<br>\n        y: ").concat(o,"<br>\n        z: ").concat(r,"<br>\n        ")}}}}function O(t,e,n){return{type:n?"polygon":"polyline",shape:{points:t,smooth:.1},style:{fill:"none",stroke:e,lineWidth:1.2}}}function z(t,e,n){return{type:"polygon",z2:t,shape:{points:e,smooth:.2},style:{fill:n,stroke:"#666",lineWidth:1}}}var w="|";function C(t,e,n,o){var r=F(t,e),i=[];e.forEach((function(e){var o=A(e,t,r);i.push({z:o.z,index:-1,points:o.points,color:n.get(o.z)})}));var a=["top","bottom","left","right"].map((function(t){return _(t)}));return a.forEach((function(e){r[e].size&&r[e].forEach((function(a){if(r[e].has(a)){var c=a.split(w),s=Object(h["a"])(c,2),u=s[0],l=s[1],p=I(e),f=r[p].has(+u)?+u:+l;if(r[p].get(f)){var d,m=A(r[p].get(f),t,r,!0),v=o.indexOf(m.z),b=null!==(d=o[v+1])&&void 0!==d?d:1/0;i.push({z:b,index:-1,points:m.points,color:n.get(b)})}}}))})),i}function I(t){return t.replace("Section","")}function j(t,e){return t>e?"".concat(e).concat(w).concat(t):"".concat(t).concat(w).concat(e)}function A(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t.z,i=t.borders,a=t.config,c=JSON.parse(JSON.stringify(t.points)),s=Object(h["a"])(i,2),u=s[0],l=s[1],p=B(u,c[0]),f=B(l,c[c.length-1]),d=o?!a.clockwise[1]:a.clockwise[1];T(c);var m=E(f,l,d,n,e),v=Object(h["a"])(m,2),b=v[0],g=v[1];if(u===b&&p===g){if(u===l)n[_(u)].delete(j(p,f));else{var y=k(l,u,e,d),x=y[0],O=B(u,x);n[_(u)].delete(j(p,O));var z=y[y.length-1],w=B(l,z);n[_(l)].delete(j(f,w)),c=c.concat(S(y))}return{points:c,z:r}}while(u!==b||p!==g){if(l!==b){var C=k(l,b,e,d),I=C[0],A=B(l,I);n[_(l)].delete(j(p,A));var N=C[C.length-1],M=B(b,N);n[_(b)].delete(j(g,M)),c=c.concat(S(C))}else n[_(b)].delete(j(f,g));var P=n[b].get(g),L=P.borders,$=JSON.parse(JSON.stringify(P.points));b===L[0]&&g===B(L[0],$[0])?(l=L[1],f=B(l,$[$.length-1])):(l=L[0],f=B(l,$[0]),$.reverse()),T($),c=c.concat($);var F=E(f,l,d,n,e),W=Object(h["a"])(F,2);b=W[0],g=W[1]}if(l!==b){var J=k(l,b,e,d),R=J[0],D=B(l,R);n[_(l)].delete(j(p,D));var H=J[J.length-1],q=B(b,H);n[_(b)].delete(j(g,q)),c=c.concat(S(J))}else n[_(b)].delete(j(f,g));return{points:c,z:r}}function T(t){var e=t[0],n=t[1];t.unshift(N(e,n));var o=t[t.length-1],r=t[t.length-2];t.push(N(o,r))}function S(t){return t.map((function(t){return t.map((function(t){return 1.1*t}))}))}function N(t,e){return[t[0]-(e[0]-t[0]),t[1]-(e[1]-t[1])]}function M(t,e){switch(t.join("")){case"middletop":return e?["right","top"]:["left","top"];case"rightmiddle":return e?["right","bottom"]:["right","top"];case"middlebottom":return e?["left","bottom"]:["right","bottom"];case"leftmiddle":return e?["left","top"]:["left","bottom"];case"lefttop":return e?["right","top"]:["left","bottom"];case"righttop":return e?["right","bottom"]:["left","top"];case"rightbottom":return e?["left","bottom"]:["right","top"];case"leftbottom":return e?["left","top"]:["right","bottom"]}}function k(t,e,n,o){var r=["top","bottom"].includes(t)?["middle",t]:[t,"middle"],i=[];do{r=M(r,o),i.push(r)}while(r.every((function(t){return t!==e})));var a=i.map((function(t){var e=Object(h["a"])(t,2),o=e[0],r=e[1];return[n[o],n[r]]}));return a}function E(t,e,n,o){var r=o[$(e)],i=r.indexOf(t),a=["top","left"].includes(e)?i+(n?1:-1):i+(n?-1:1);if(0<=a&&a<r.length)return[e,r[a]];var c,s=P(e,n);while(!o[s].size)s=P(s,n);switch(s){case"top":case"left":c=n?0:o[s].size-1;break;case"bottom":case"right":c=n?o[s].size-1:0;break}return[s,o[$(s)][c]]}function P(t,e){switch(t){case"top":return e?"right":"left";case"bottom":return e?"left":"right";case"left":return e?"top":"bottom";case"right":return e?"bottom":"top"}}function L(t){return t.replace("Order","")}function $(t){return"".concat(t,"Order")}function _(t){return"".concat(t,"Section")}function F(t,e){var n,o=["top","bottom","left","right"].map((function(t){return $(t)})),r=["top","bottom","left","right"].map((function(t){return _(t)})),i=(n={top:new Map},Object(s["a"])(n,o[0],[]),Object(s["a"])(n,r[0],new Set),Object(s["a"])(n,"bottom",new Map),Object(s["a"])(n,o[1],[]),Object(s["a"])(n,r[1],new Set),Object(s["a"])(n,"left",new Map),Object(s["a"])(n,o[2],[]),Object(s["a"])(n,r[2],new Set),Object(s["a"])(n,"right",new Map),Object(s["a"])(n,o[3],[]),Object(s["a"])(n,r[3],new Set),n);return e.forEach((function(t){var e=t.borders,n=t.points,o=Object(h["a"])(e,2),r=o[0],a=o[1],c=B(r,n[0]);i[r].set(c,t),i[$(r)].push(c);var s=B(a,n[n.length-1]);i[a].set(s,t),i[$(a)].push(s)})),o.forEach((function(e){var n=L(e),o=i[e].concat(W(n,t));o.sort((function(t,e){return t-e})),o.forEach((function(t,e){o[e+1]&&i[_(n)].add("".concat(t).concat(w).concat(o[e+1]))})),o.pop(),o.shift(),i[e]=o})),i}function W(t,e){switch(t){case"top":case"bottom":return[e.right,e.left];case"left":case"right":return[e.top,e.bottom]}}function B(t,e){return["top","bottom"].includes(t)?e[0]:e[1]}function J(t,e,n,o,r,i){var a=[];if(e.forEach((function(t){t.forEach((function(t){var e={};t.points=t.points.forEach((function(t){e[Object.values(t)]=Object.values(t)})),t.points=Object.values(e)}))})),i){var c=Object(h["a"])(n,2),s=c[0],l=c[1],p=Object(h["a"])(o,2),f=p[0],d=p[1],m={left:s,bottom:l,right:f,top:d},v=[];e.forEach((function(e,n){var o=t.indexOf(n),i=r.get(n);e.forEach((function(e){var c=e.points,s=e.config,u=s.circle;u?s.updateContour?a.push({iscircle:u,z:n,index:o+1,points:c,color:r.get(t[o+1])}):a.push({iscircle:u,z:n,index:o,points:c,color:i}):v.push(e)}))})),v.length&&a.push.apply(a,Object(u["a"])(C(m,v,r,t)))}else e.forEach((function(e,n){var o=t.indexOf(n),i=r.get(n);e.forEach((function(t){var e=t.points,r=t.config,c=r.circle;a.push({iscircle:c,z:n,index:o,points:e,color:i})}))}));return{type:"custom",clip:!0,zlevel:-1,name:"contour",data:[n,o],renderItem:function(t,e){var n=a.map((function(t){var n=t.index,o=t.points,r=t.color,a=t.iscircle;return o=o.map((function(t){return e.coord(t)})),i?z(n,o,r):O(o,r,a)}));return{type:"group",children:n,silent:!0}}}}function R(t,e){var n=Math.pow(10,e);return t<0?(parseInt(t*n)-1)/n:parseInt(t*n)/n}function D(t,e,n){for(var o=e.length/5,r=[],i=0;i<5;i++)r.push.apply(r,Object(u["a"])(Object(l["a"])(t[i],t[i+1],o)));r.push(t.slice(-1)[0]);var a=new Map;return e.forEach((function(t,e){a.set(t,r[e])})),n&&a.set(1/0,t[t.length-1]),{contourColorMap:a,legendColors:Array.from(a).reverse()}}function H(t,e){var n=t[0],o=t[t.length-1],r=(o-n)/(e+1),i=r,a=0;while(r<10)r*=10,a++;i=R(i,a);for(var c=[],s=1;s<=e;s++)c.push(+(n+i*s).toFixed(a));return c}function q(t){var e=t.x,n=t.y,o=t.z,r=[e[0],n[0]],i=[e[e.length-1],n[n.length-1]],a=[],c=[];return o.forEach((function(t,o){c.push([]),t.forEach((function(t,r){a.push(t),c[o].push({x:e[r],y:n[o],z:t})}))})),c.reverse(),a.sort((function(t,e){return t-e})),{pointMatrix:Object.freeze(c),zList:Object.freeze(a),leftBottom:r,rightTop:i}}var G,U,V=[];function Z(t,e){U=e;var n=e.length-1,o=new Map;return t.forEach((function(t){G=t,V.splice(0,V.length);var e=[];o.set(t,e);for(var r=[],i=0;i<n;i++){r.push([]);for(var a=0;a<n;a++){var c=Q(t,i,a);r[i].push({index:c,direction:K(c)})}}ot(r,e)})),o}function K(t){switch(t){case"0000":case"1111":return null;case"0001":case"1110":return"left->bottom";case"0010":case"1101":return"right->bottom";case"0011":case"1100":return"left->right";case"0100":case"1011":return"top->right";case"0111":case"1000":return"top->left";case"0110":case"1001":return"top->bottom";case"01010":case"10101":return["top->right","left->bottom"];case"01011":case"10100":return["top->left","right->bottom"]}}function Q(t,e,n){var o=[U[e][n],U[e][n+1],U[e+1][n+1],U[e+1][n]],r=o[0],i=o[1],a=o[2],c=o[3],s="".concat(X(r.z,t)).concat(X(i.z,t)).concat(X(a.z,t)).concat(X(c.z,t));if(["0101","1010"].includes(s)){var u=(r.z+i.z+a.z+c.z)/4;s+=X(u,t)}return s}function X(t,e){return t>e?1:0}var Y,tt=function(t,e){return"".concat(t,",").concat(e)},et=new Set,nt=new Set;function ot(t,e){et.clear(),nt.clear(),Y=[];for(var n=0;n<t.length;n++)nt.add(n);for(var o=0;o<t.length;o++)for(var r=0;r<t.length;r++)if(!et.has(tt(o,r))){var i=bt(o,r,t);i&&i.config.complete&&e.push(i)}0!=V.length&&V.forEach((function(t){t&&t.config.complete&&e.push(t)}));while(Y.length){var a=Y.shift(),c=rt(a,Y);c&&e.push(c)}}function rt(t,e){for(var n=0;n<e.length;n++){var o=it(t,e[n]);if(o){e.splice(n,1);var r=new mt(o),i=r.borders,a=r.config;return 2===i.length?(a.clockwise=[ft(r,!0),ft(r,!1)],a.complete=!0,r):rt(o,e)}}}function it(t,e){var n,o,r,i=t.points,a=e.points,c=i[0],s=i[i.length-1],u=a[0],h=a[a.length-1],l=t.borders,p=e.borders,f=t.indexes,d=e.indexes;if(c.x===u.x&&c.y===u.y&&(a.shift(),d.shift(),n=i.reverse().concat(a),o=l.concat(p),r=f.reverse().concat(d)),c.x===h.x&&c.y===h.y&&(i.shift(),f.shift(),n=a.concat(i),o=p.concat(l),r=d.concat(f)),s.x===u.x&&s.y===u.y&&(a.shift(),d.shift(),n=i.concat(a),o=l.concat(p),r=f.concat(d)),s.x===h.x&&s.y===h.y&&(i.pop(),f.pop(),n=i.concat(a.reverse()),o=l.concat(p),r=f.concat(d.reverse())),n)return{z:G,points:n,borders:o,indexes:r}}function at(t,e,n){var o=[U[t][e],U[t][e+1],U[t+1][e+1],U[t+1][e]],r=o[0],i=o[1],a=o[2],c=o[3];switch(n){case"top":return gt(r,i,G);case"bottom":return gt(c,a,G);case"left":return yt(r,c,G);case"right":return yt(i,a,G)}}function ct(t,e,n,o,r){switch(n){case"top":dt(t-1,e,"bottom",o,r);break;case"bottom":dt(t+1,e,"top",o,r);break;case"left":dt(t,e-1,"right",o,r);break;case"right":dt(t,e+1,"left",o,r);break}}function st(t,e){var n=e.split("->"),o=n.indexOf(t);n.splice(o,1);var r=n[0];return r}function ut(t,e,n,o,r){var i=o.direction,a=st(n,i),c=r.points,s=r.config;s.updateContour=ht(r),s.circle=!0,c.push(at(t,e,a))}function ht(t){var e=t.indexes.join("");return lt(e,"1")<lt(e,"0")}function lt(t,e){for(var n=0,o=0;o<t.length;o++)t[o]===e&&n++;return n}function pt(t,e,n){var o=nt.size-1;return 0===t&&"top"===n?"top":t===o&&"bottom"===n?"bottom":0===e&&"left"===n?"left":e===o&&"right"===n?"right":void 0}function ft(t,e){var n=t.indexes,o=t.borders,r=e?o[0]:o[1],i=e?n[0]:n[n.length-1];switch(r){case"top":return["1000","1011","10100","1001","10101"].includes(i);case"bottom":return["0010","1110","0110","10100","10101"].includes(i);case"left":return["0001","0111","0011","01010","01011"].includes(i);case"right":return["0100","1110","01010","1100","01011"].includes(i)}}function dt(t,e,n,o,r){var i=r.indexes,a=r.points,c=r.borders,s=r.config;if(nt.has(t)&&nt.has(e)){var u=tt(t,e);if(et.has(u))c.length?Y.push(r):(ut(t,e,n,o[t][e],r),s.complete=!0);else{var h=o[t][e].direction;if(Array.isArray(h)){for(var l=0;l<h.length;l++)if(h[l].includes(n)){o[t][e].direction=h[0===l?1:0],h=h[l];break}}else et.add(u);i.push(o[t][e].index);var p=st(n,h),f=at(t,e,p);a.push(f);var d=pt(t,e,p);d&&c.push(d),ct(t,e,p,o,r)}}else 2===c.length?(s.clockwise=[ft(r,!0),ft(r,!1)],s.complete=!0):Y.push(r)}var mt=Object(a["a"])((function t(e){var n=e.z,o=e.indexes,r=e.points,i=e.borders;Object(c["a"])(this,t),Object(s["a"])(this,"z",void 0),Object(s["a"])(this,"indexes",void 0),Object(s["a"])(this,"points",void 0),Object(s["a"])(this,"borders",void 0),Object(s["a"])(this,"config",{complete:null,circle:null,updateContour:null,clockwise:null}),this.z=n,this.indexes=null!==o&&void 0!==o?o:[],this.points=null!==r&&void 0!==r?r:[],this.borders=null!==i&&void 0!==i?i:[]}));function vt(t,e,n,o){if(nt.has(t)&&nt.has(e)){var r=new mt({z:G}),i=n.split("->"),a=Object(h["a"])(i,2),c=a[0],s=a[1],u=r.indexes,l=r.points,p=r.borders;u.push(o[t][e].index),l.push(at(t,e,c),at(t,e,s));var f=pt(t,e,c),d=pt(t,e,s);return f&&p.push(f),d&&p.push(d),ct(t,e,s,o,r),r}}function bt(t,e,n){var o=tt(t,e),r=n[t][e].direction;if(r)return Array.isArray(r)?(V.push(vt(t,e,r[1],n)),r=r[0]):et.add(o),vt(t,e,r,n)}function gt(t,e,n){var o=t.z>e.z?[e.z,t.z,e.x,t.x]:[t.z,e.z,t.x,e.x],r=Object(h["a"])(o,4),i=r[0],a=r[1],c=r[2],s=r[3],u=n-i,l=a-n,p=u+l,f=s-c;return{x:u/p*f+c,y:t.y}}function yt(t,e,n){var o=t.z>e.z?[e.z,t.z,e.y,t.y]:[t.z,e.z,t.y,e.y],r=Object(h["a"])(o,4),i=r[0],a=r[1],c=r[2],s=r[3],u=n-i,l=a-n,p=u+l,f=s-c;return{x:t.x,y:u/p*f+c}}function xt(t){return Number.isInteger(t)?0:(t+"").split(".")[1].length}var Ot,zt,wt,Ct=f["a"].convergencePointColor,It="contour",jt="topographic",At="convergencePoint",Tt="pathPoints",St="pathLines",Nt="points",Mt="tooltip",kt=(o={},Object(s["a"])(o,At,999),Object(s["a"])(o,Tt,998),Object(s["a"])(o,St,997),Object(s["a"])(o,Nt,-1),Object(s["a"])(o,Mt,9999),o),Et={name:"ContourMap",props:{showAnimation:Boolean,showConvergencePoint:Boolean,showLegend:Boolean,showFullScreen:Boolean,type:{type:String,required:!0,validator:function(t){return[It,jt].includes(t)}}},data:function(){return{chartInstance:null,isArea:null,legendColors:[],setting:{},CONTOUR:It,TOPOGRAPHIC:jt,legend:{},series:[],playNextAnimation:null,animationTimer:null}},beforeCreate:function(){Ot=this.$t("components.startText"),zt=this.$t("components.endText"),wt=this.$t("lossCompare.conpoint")},created:function(){this.isArea=this.type===jt},methods:{showTooltip:function(t){var e=this;this.tooltipTimer&&clearTimeout(this.tooltipTimer),this.tooltipTimer=setTimeout((function(){if(t.seriesName===Nt){var n=t.seriesIndex,o=t.dataIndex,r=t.data.position;e.chartInstance.dispatchAction({type:"showTip",seriesIndex:n+1,dataIndex:o,position:r}),e.tooltipTimer=null}}),500)},hideTooltip:function(){this.tooltipTimer&&(clearTimeout(this.tooltipTimer),this.tooltipTimer=null),this.chartInstance.dispatchAction({type:"hideTip"})},stopPathAnimation:function(t){if(this.playNextAnimation&&(this.chartInstance&&this.chartInstance.off("finished"),this.playNextAnimation=null,this.animationTimer&&clearTimeout(this.animationTimer),t)){var e=this.path,n=this.rightTop,o=this.setting,r=o.pathWidth,i=o.pathColor,a=(e.intervals,e.x),c=e.y,s=[];a.forEach((function(t,e){e<a.length-1&&(s[e]=[a[e],c[e],a[e+1],c[e+1]])})),this.chartInstance.setOption({series:[d(n,s,r,i,!0)]})}},playPathAnimation:function(){var t=this,e=this.path,n=this.rightTop,o=this.setting,r=o.pathWidth,i=o.pathColor,a=e.intervals,c=e.x,s=e.y,u=[];c.forEach((function(t,e){e<c.length-1&&u.push([c[e],s[e],c[e],s[e]])}));var h=0;this.playNextAnimation=function(){t.animationTimer=setTimeout((function(){if(t.chartInstance){if(h===a.length-1)return t.chartInstance.setOption({series:[d(n,u,r,i,!1)]}),void t.chartInstance.off("finished");u[h]=[c[h],s[h],c[h+1],s[h+1]],h++,t.chartInstance.setOption({series:[d(n,u,r,i,!0)]})}}),100)},this.chartInstance&&(this.chartInstance.on("finished",this.playNextAnimation),this.chartInstance.setOption({series:[d(n,u,r,i)]}))},handlePathStyleChange:function(t){this.stopPathAnimation(!0);var e=this.setting,n=this.rightTop,o=this.path;e.pathWidth=t.pathWidth,e.pathColor=t.pathColor;var r=e.pathWidth,i=e.pathColor,a=e.unit;(this.chartInstance||this.initContourMap())&&this.chartInstance.setOption({series:Object(u["a"])(v(o,n,r,i,a))})},handleContoursNumberChange:function(t){this.stopPathAnimation(!0);var e=this.pointMatrix,n=this.setting,o=this.zList,r=this.leftBottom,i=this.rightTop,a=this.isArea,c=this.type;n.contoursNumber=t.contoursNumber;var s=n.contourColors,u=n.contoursNumber,h=H(o,u);this.contours=h;var l=D(s,h,c===jt),p=l.contourColorMap,f=l.legendColors;this.legendColors=f;var d=Z(h,e);this.contourPointMap=d,(this.chartInstance||this.initContourMap())&&(this.chartInstance.setOption({series:[J(h,d,r,i,p,a)]}),this.option=this.chartInstance.getOption())},handleContourColorsChange:function(t){this.stopPathAnimation(!0);var e=this.contours,n=this.contourPointMap,o=this.leftBottom,r=this.rightTop,i=this.isArea,a=this.setting,c=this.type;a.contourColors=t.contourColors;var s=a.contourColors,u=D(s,e,c===jt),h=u.contourColorMap,l=u.legendColors;this.legendColors=l,(this.chartInstance||this.initContourMap())&&(this.chartInstance.setOption({series:[J(e,n,o,r,h,i)]}),this.option=this.chartInstance.getOption())},handleDataChange:function(t,e){this.stopPathAnimation();var n=t.path,o=t.points,r=t.convergence_point,i=e.contourColors,a=e.contoursNumber,c=e.pathWidth,s=e.pathColor,h=e.unit,l=this.isArea,p=this.chartInstance,f=this.showConvergencePoint,d=this.type;this.path=n,this.setting=e;var m=q(o),b=m.pointMatrix,O=m.zList,z=m.leftBottom,w=m.rightTop;this.pointMatrix=b,this.zList=O,this.leftBottom=z,this.rightTop=w;var C=H(O,a);this.contours=C;var I=D(i,C,d===jt),j=I.contourColorMap,A=I.legendColors;this.legendColors=A;var T=Z(C,b);if(this.contourPointMap=T,p)p.clear(),this.initContourMap();else if(!this.initContourMap())return;var S={data:[]},N=[];n&&(S.data=n.intervals,N.push.apply(N,Object(u["a"])(v(n,w,c,s,h)))),N.push(g(b,this.chartInstance)),N.push(x(b)),f&&r&&N.push(y(r,Ct[this.$store.state.themeIndex])),N.push(J(C,T,z,w,j,l)),this.chartInstance.setOption({legend:S,series:N}),this.option=this.chartInstance.getOption(),this.chartInstance.on("mousemove",this.showTooltip),this.chartInstance.on("mouseout",this.hideTooltip)},initContourMap:function(){var t=this;if(!this.chartInstance){if(!this.$refs.contour)return!1;this.chartInstance=p["a"].init(this.$refs.contour,p["b"])}var e=function(t){var e=t.min;if("number"===typeof e&&!Number.isNaN(e)){var n=xt(e);return e=0==n?e:R(e,n-1),Math.abs(e)>1?e.toFixed(5):e.toPrecision(2)}},n=function(t){var e=t.max;if("number"===typeof e&&!Number.isNaN(e)){var n=xt(e);return e=0==n?e:R(e,n-1),Math.abs(e)>1?e.toFixed(5):e.toPrecision(2)}};return this.chartInstance.setOption({legend:{show:!1},tooltip:{trigger:"item",axisPointer:{type:"cross"},alwaysShowContent:!0},toolbox:{feature:{saveAsImage:{},dataZoom:{filterMode:"none"},myRestore:{show:!0,title:this.$t("lossAnalysis.restore"),icon:f["a"].restoreIcon[this.$store.state.themeIndex],onclick:function(){var e=t.option;t.chartInstance.clear(),t.initContourMap(),t.chartInstance.setOption(e),t.chartInstance.on("mousemove",t.showTooltip),t.chartInstance.on("mouseout",t.hideTooltip)}},myFullScreen:this.showFullScreen?{show:!0,title:this.$t("scalar.fullScreen"),icon:f["a"].fullScreenIcon[this.$store.state.themeIndex],onclick:function(){t.$emit("fullScreen")}}:{}},right:10},grid:{left:60,right:this.showLegend?120:10,top:30,bottom:20},xAxis:{type:"value",splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},min:function(t){return e(t)},max:function(t){return n(t)}},yAxis:{type:"value",axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},min:function(t){return e(t)},max:function(t){return n(t)}}}),!0},resize:function(){this.chartInstance&&this.chartInstance.resize()},beforeDestroy:function(){this.tooltipTimer&&clearTimeout(this.tooltipTimer),this.chartInstance&&(this.chartInstance.off("mousemove"),this.chartInstance.off("mouseout"))}}},Pt=Et,Lt=(n("4709"),n("2877")),$t=Object(Lt["a"])(Pt,r,i,!1,null,null,null);e["a"]=$t.exports},4709:function(t,e,n){"use strict";n("93c4")},"4ec9":function(t,e,n){"use strict";var o=n("6d61"),r=n("6566");t.exports=o("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},"5e89":function(t,e,n){var o=n("861d"),r=Math.floor;t.exports=function(t){return!o(t)&&isFinite(t)&&r(t)===t}},"8ba4":function(t,e,n){var o=n("23e7"),r=n("5e89");o({target:"Number",stat:!0},{isInteger:r})},9129:function(t,e,n){var o=n("23e7");o({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},"93c4":function(t,e,n){},9944:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return c}));var o=n("3835");n("caad"),n("2532"),n("ac1f"),n("466d"),n("99af"),n("d3b7"),n("25f0"),n("b680"),n("8ba4"),n("a9e3");function r(t,e,n){t.toLowerCase().includes("rgb")||(t=i(t)),e.toLowerCase().includes("rgb")||(e=i(e));for(var r=t.match(/[0-9]\d*/g),a=Object(o["a"])(r,3),c=a[0],s=a[1],u=a[2],h=e.match(/[0-9]\d*/g),l=Object(o["a"])(h,3),p=l[0],f=l[1],d=l[2],m=(+p-+c)/n,v=(+f-+s)/n,b=(+d-+u)/n,g=[t],y=1;y<n;y++){var x=parseInt(m*y+ +c),O=parseInt(v*y+ +s),z=parseInt(b*y+ +u);g.push("rgb(".concat(x,",").concat(O,",").concat(z,")"))}return g}function i(t){var e=16;return 4===t.length?"rgb(".concat(parseInt(t[1]+t[1],e),", ").concat(parseInt(t[2]+t[2],e),", ").concat(parseInt(t[3]+t[3],e),")"):"rgb(".concat(parseInt(t[1]+t[2],e),", ").concat(parseInt(t[3]+t[4],e),", ").concat(parseInt(t[5]+t[6],e),")")}function a(t,e){if("number"!==typeof t&&(t=parseFloat(t)),isNaN(t))return"NaN";var n=t+"",o=n.indexOf(".");return o<0||n.length-o-1<=e?n:t.toFixed(e)}function c(t){if(Number.isInteger(t))return!0;if("string"!==typeof t)return!1;var e=+t;return e+""===t&&Number.isInteger(e)}},bee2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("a38e");function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Object(o["a"])(r.key),r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}},d4ec:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return o}))},d81d:function(t,e,n){"use strict";var o=n("23e7"),r=n("b727").map,i=n("1dde"),a=n("ae40"),c=i("map"),s=a("map");o({target:"Array",proto:!0,forced:!c||!s},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},dca8:function(t,e,n){var o=n("23e7"),r=n("bb2f"),i=n("d039"),a=n("861d"),c=n("f183").onFreeze,s=Object.freeze,u=i((function(){s(1)}));o({target:"Object",stat:!0,forced:u,sham:!r},{freeze:function(t){return s&&a(t)?s(c(t)):t}})},fb6a:function(t,e,n){"use strict";var o=n("23e7"),r=n("861d"),i=n("e8b5"),a=n("23cb"),c=n("50c4"),s=n("fc6a"),u=n("8418"),h=n("b622"),l=n("1dde"),p=n("ae40"),f=l("slice"),d=p("slice",{ACCESSORS:!0,0:0,1:2}),m=h("species"),v=[].slice,b=Math.max;o({target:"Array",proto:!0,forced:!f||!d},{slice:function(t,e){var n,o,h,l=s(this),p=c(l.length),f=a(t,p),d=a(void 0===e?p:e,p);if(i(l)&&(n=l.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(l,f,d);for(o=new(void 0===n?Array:n)(b(d-f,0)),h=0;f<d;f++,h++)f in l&&u(o,h,l[f]);return o.length=h,o}})}}]);