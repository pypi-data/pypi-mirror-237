import{i as K,r as E,u as Q,k as $,v as R,x as q,g as z,j as W,n as J,y as G,z as U,w as F,c as M,A as X,a as Y}from"./@vue-8bc3eafb.js";function x(e){return G()?(U(e),!0):!1}function C(e){return typeof e=="function"?e():Q(e)}const Z=typeof window<"u"&&typeof document<"u",ee=Object.prototype.toString,te=e=>ee.call(e)==="[object Object]",P=()=>{};function ne(e,t){function n(...s){return new Promise((r,o)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(r).catch(o)})}return n}const H=e=>e();function re(e=H){const t=E(!0);function n(){t.value=!1}function s(){t.value=!0}const r=(...o)=>{t.value&&e(...o)};return{isActive:R(t),pause:n,resume:s,eventFilter:r}}function ae(...e){if(e.length!==1)return $(...e);const t=e[0];return typeof t=="function"?R(q(()=>({get:t,set:P}))):E(t)}function se(e,t,n={}){const{eventFilter:s=H,...r}=n;return F(e,ne(s,t),r)}function oe(e,t,n={}){const{eventFilter:s,...r}=n,{eventFilter:o,pause:i,resume:l,isActive:m}=re(s);return{stop:se(e,t,{...r,eventFilter:o}),pause:i,resume:l,isActive:m}}function ie(e,t=!0){z()?W(e):t?e():J(e)}function we(e=!1,t={}){const{truthyValue:n=!0,falsyValue:s=!1}=t,r=K(e),o=E(e);function i(l){if(arguments.length)return o.value=l,o.value;{const m=C(n);return o.value=o.value===m?C(s):m,o.value}}return r?i:[o,i]}function B(e){var t;const n=C(e);return(t=n==null?void 0:n.$el)!=null?t:n}const k=Z?window:void 0;function T(...e){let t,n,s,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,r]=e,t=k):[t,n,s,r]=e,!t)return P;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const o=[],i=()=>{o.forEach(h=>h()),o.length=0},l=(h,c,w,y)=>(h.addEventListener(c,w,y),()=>h.removeEventListener(c,w,y)),m=F(()=>[B(t),C(r)],([h,c])=>{if(i(),!h)return;const w=te(c)?{...c}:c;o.push(...n.flatMap(y=>s.map(f=>l(h,y,f,w))))},{immediate:!0,flush:"post"}),v=()=>{m(),i()};return x(v),v}function ue(){const e=E(!1);return z()&&W(()=>{e.value=!0}),e}function le(e){const t=ue();return M(()=>(t.value,!!e()))}function ce(e,t={}){const{window:n=k}=t,s=le(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const o=E(!1),i=v=>{o.value=v.matches},l=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",i):r.removeListener(i))},m=Y(()=>{s.value&&(l(),r=n.matchMedia(C(e)),"addEventListener"in r?r.addEventListener("change",i):r.addListener(i),o.value=r.matches)});return x(()=>{m(),l(),r=void 0}),o}const N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j="__vueuse_ssr_handlers__",fe=de();function de(){return j in N||(N[j]=N[j]||{}),N[j]}function I(e,t){return fe[e]||t}function pe(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const me={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},V="vueuse-storage";function he(e,t,n,s={}){var r;const{flush:o="pre",deep:i=!0,listenToStorageChanges:l=!0,writeDefaults:m=!0,mergeDefaults:v=!1,shallow:h,window:c=k,eventFilter:w,onError:y=a=>{console.error(a)}}=s,f=(h?X:E)(t);if(!n)try{n=I("getDefaultStorage",()=>{var a;return(a=k)==null?void 0:a.localStorage})()}catch(a){y(a)}if(!n)return f;const g=C(t),L=pe(g),S=(r=s.serializer)!=null?r:me[L],{pause:D,resume:O}=oe(f,()=>d(f.value),{flush:o,deep:i,eventFilter:w});return c&&l&&(T(c,"storage",b),T(c,V,_)),b(),f;function d(a){try{if(a==null)n.removeItem(e);else{const u=S.write(a),p=n.getItem(e);p!==u&&(n.setItem(e,u),c&&c.dispatchEvent(new CustomEvent(V,{detail:{key:e,oldValue:p,newValue:u,storageArea:n}})))}}catch(u){y(u)}}function A(a){const u=a?a.newValue:n.getItem(e);if(u==null)return m&&g!==null&&n.setItem(e,S.write(g)),g;if(!a&&v){const p=S.read(u);return typeof v=="function"?v(p,g):L==="object"&&!Array.isArray(p)?{...g,...p}:p}else return typeof u!="string"?u:S.read(u)}function _(a){b(a.detail)}function b(a){if(!(a&&a.storageArea!==n)){if(a&&a.key==null){f.value=g;return}if(!(a&&a.key!==e)){D();try{(a==null?void 0:a.newValue)!==S.write(f.value)&&(f.value=A(a))}catch(u){y(u)}finally{a?J(O):O()}}}}}function ge(e){return ce("(prefers-color-scheme: dark)",e)}function ve(e={}){const{selector:t="html",attribute:n="class",initialValue:s="auto",window:r=k,storage:o,storageKey:i="vueuse-color-scheme",listenToStorageChanges:l=!0,storageRef:m,emitAuto:v,disableTransition:h=!0}=e,c={auto:"",light:"light",dark:"dark",...e.modes||{}},w=ge({window:r}),y=M(()=>w.value?"dark":"light"),f=m||(i==null?ae(s):he(i,s,o,{window:r,listenToStorageChanges:l})),g=M(()=>f.value==="auto"?y.value:f.value),L=I("updateHTMLAttrs",(d,A,_)=>{const b=typeof d=="string"?r==null?void 0:r.document.querySelector(d):B(d);if(!b)return;let a;if(h){a=r.document.createElement("style");const u="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";a.appendChild(document.createTextNode(u)),r.document.head.appendChild(a)}if(A==="class"){const u=_.split(/\s/g);Object.values(c).flatMap(p=>(p||"").split(/\s/g)).filter(Boolean).forEach(p=>{u.includes(p)?b.classList.add(p):b.classList.remove(p)})}else b.setAttribute(A,_);h&&(r.getComputedStyle(a).opacity,document.head.removeChild(a))});function S(d){var A;L(t,n,(A=c[d])!=null?A:d)}function D(d){e.onChanged?e.onChanged(d,S):S(d)}F(g,D,{flush:"post",immediate:!0}),ie(()=>D(g.value));const O=M({get(){return v?f.value:g.value},set(d){f.value=d}});try{return Object.assign(O,{store:f,system:y,state:g})}catch{return O}}function Se(e={}){const{valueDark:t="dark",valueLight:n=""}=e,s=ve({...e,onChanged:(o,i)=>{var l;e.onChanged?(l=e.onChanged)==null||l.call(e,o==="dark",i,o):i(o)},modes:{dark:t,light:n}});return M({get(){return s.value==="dark"},set(o){const i=o?"dark":"light";s.system.value===i?s.value="auto":s.value=i}})}export{we as a,Se as u};
